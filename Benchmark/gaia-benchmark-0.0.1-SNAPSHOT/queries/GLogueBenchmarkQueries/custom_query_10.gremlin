g.V().match(__.as('A').hasLabel('PERSON').out('LIKES').hasLabel('COMMENT').as('B'), __.as('B').hasLabel('COMMENT').out('HASCREATOR').as('C'), __.as('A').hasLabel('PERSON').out('ISLOCATEDIN').has('name', '$city').as('D'), __.as('C').hasLabel('PERSON').out('ISLOCATEDIN').as('D'), __.as('D').in('ISLOCATEDIN').as('E'), __.as('D').in('ISLOCATEDIN').hasLabel('PERSON').as('G'), __.as('E').hasLabel('PERSON').out('LIKES').hasLabel('COMMENT').as('F'), __.as('F').hasLabel('COMMENT').out('HASCREATOR').hasLabel('PERSON').as('G')).count()